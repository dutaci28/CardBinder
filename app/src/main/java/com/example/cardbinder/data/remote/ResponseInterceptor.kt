package com.example.cardbinder.data.remote

import kotlinx.serialization.json.Json
import kotlinx.serialization.json.jsonArray
import kotlinx.serialization.json.jsonObject
import okhttp3.Interceptor
import okhttp3.Response
import okhttp3.ResponseBody
import okio.Buffer
import okio.BufferedSource

class ResponseInterceptor : Interceptor {
    override fun intercept(chain: Interceptor.Chain): Response {
        val request = chain.request()
        val response = chain.proceed(request)
        val rawResponseBody = response.body() ?: return response
        val source: BufferedSource = rawResponseBody.source()
        source.request(Long.MAX_VALUE)
        val buffer: Buffer = source.buffer.clone()
        val modifiedResponseBody = modifyResponse(buffer.readUtf8())
        val newResponseBody = ResponseBody.create(rawResponseBody.contentType(), modifiedResponseBody)
        return response.newBuilder().body(newResponseBody).build()
    }

    private fun modifyResponse(originalBody: String): String {
        //TODO MODIFY RESPONSE ONLY FOR THE GET ALL CARDS BODY
        val json = Json { ignoreUnknownKeys = true }
        //val jsonString = "{\"object\":\"list\",\"total_cards\":796,\"has_more\":true,\"next_page\":\"https://api.scryfall.com/cards/search?format=json&include_extras=false&include_multilingual=false&include_variations=false&order=cmc&page=2&q=c%3Ared+pow%3D3&unique=cards\",\"data\":[{\"object\":\"card\",\"id\":\"d99a9a7d-d9ca-4c11-80ab-e39d5943a315\",\"oracle_id\":\"1f74e26f-5cf3-4b0e-bcc6-f858599474fc\",\"multiverse_ids\":[522262],\"mtgo_id\":90749,\"tcgplayer_id\":239722,\"cardmarket_id\":566268,\"name\":\"Asmoranomardicadaistinaculdacar\",\"lang\":\"en\",\"released_at\":\"2021-06-18\",\"uri\":\"https://api.scryfall.com/cards/d99a9a7d-d9ca-4c11-80ab-e39d5943a315\",\"scryfall_uri\":\"https://scryfall.com/card/mh2/186/asmoranomardicadaistinaculdacar?utm_source=api\",\"layout\":\"normal\",\"highres_image\":true,\"image_status\":\"highres_scan\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/front/d/9/d99a9a7d-d9ca-4c11-80ab-e39d5943a315.jpg?1632831210\",\"normal\":\"https://cards.scryfall.io/normal/front/d/9/d99a9a7d-d9ca-4c11-80ab-e39d5943a315.jpg?1632831210\",\"large\":\"https://cards.scryfall.io/large/front/d/9/d99a9a7d-d9ca-4c11-80ab-e39d5943a315.jpg?1632831210\",\"png\":\"https://cards.scryfall.io/png/front/d/9/d99a9a7d-d9ca-4c11-80ab-e39d5943a315.png?1632831210\",\"art_crop\":\"https://cards.scryfall.io/art_crop/front/d/9/d99a9a7d-d9ca-4c11-80ab-e39d5943a315.jpg?1632831210\",\"border_crop\":\"https://cards.scryfall.io/border_crop/front/d/9/d99a9a7d-d9ca-4c11-80ab-e39d5943a315.jpg?1632831210\"},\"mana_cost\":\"\",\"cmc\":0,\"type_line\":\"Legendary Creature — Human Wizard\",\"oracle_text\":\"As long as you've discarded a card this turn, you may pay {B/R} to cast this spell.\\nWhen Asmoranomardicadaistinaculdacar enters the battlefield, you may search your library for a card named The Underworld Cookbook, reveal it, put it into your hand, then shuffle.\\nSacrifice two Foods: Target creature deals 6 damage to itself.\",\"power\":\"3\",\"toughness\":\"3\",\"colors\":[\"B\",\"R\"],\"color_indicator\":[\"B\",\"R\"],\"color_identity\":[\"B\",\"R\"],\"keywords\":[],\"all_parts\":[{\"object\":\"related_card\",\"id\":\"2879f780-e17f-4e68-931e-6e45f9df28e1\",\"component\":\"combo_piece\",\"name\":\"Asmoranomardicadaistinaculdacar\",\"type_line\":\"Legendary Creature — Human Wizard\",\"uri\":\"https://api.scryfall.com/cards/2879f780-e17f-4e68-931e-6e45f9df28e1\"},{\"object\":\"related_card\",\"id\":\"4f24504e-b397-4b98-b8e8-8166457f7a2e\",\"component\":\"combo_piece\",\"name\":\"The Underworld Cookbook\",\"type_line\":\"Artifact\",\"uri\":\"https://api.scryfall.com/cards/4f24504e-b397-4b98-b8e8-8166457f7a2e\"}],\"legalities\":{\"standard\":\"not_legal\",\"future\":\"not_legal\",\"historic\":\"not_legal\",\"timeless\":\"not_legal\",\"gladiator\":\"not_legal\",\"pioneer\":\"not_legal\",\"explorer\":\"not_legal\",\"modern\":\"legal\",\"legacy\":\"legal\",\"pauper\":\"not_legal\",\"vintage\":\"legal\",\"penny\":\"not_legal\",\"commander\":\"legal\",\"oathbreaker\":\"legal\",\"standardbrawl\":\"not_legal\",\"brawl\":\"not_legal\",\"alchemy\":\"not_legal\",\"paupercommander\":\"not_legal\",\"duel\":\"restricted\",\"oldschool\":\"not_legal\",\"premodern\":\"not_legal\",\"predh\":\"not_legal\"},\"games\":[\"paper\",\"mtgo\"],\"reserved\":false,\"foil\":true,\"nonfoil\":true,\"finishes\":[\"nonfoil\",\"foil\"],\"oversized\":false,\"promo\":false,\"reprint\":false,\"variation\":false,\"set_id\":\"c1c7eb8c-f205-40ab-a609-767cb296544e\",\"set\":\"mh2\",\"set_name\":\"Modern Horizons 2\",\"set_type\":\"draft_innovation\",\"set_uri\":\"https://api.scryfall.com/sets/c1c7eb8c-f205-40ab-a609-767cb296544e\",\"set_search_uri\":\"https://api.scryfall.com/cards/search?order=set&q=e%3Amh2&unique=prints\",\"scryfall_set_uri\":\"https://scryfall.com/sets/mh2?utm_source=api\",\"rulings_uri\":\"https://api.scryfall.com/cards/d99a9a7d-d9ca-4c11-80ab-e39d5943a315/rulings\",\"prints_search_uri\":\"https://api.scryfall.com/cards/search?order=released&q=oracleid%3A1f74e26f-5cf3-4b0e-bcc6-f858599474fc&unique=prints\",\"collector_number\":\"186\",\"digital\":false,\"rarity\":\"rare\",\"card_back_id\":\"0aeebaf5-8c7d-4636-9e82-8c27447861f7\",\"artist\":\"Ryan Pancoast\",\"artist_ids\":[\"89cc9475-dda2-4d13-bf88-54b92867a25c\"],\"illustration_id\":\"109aa8fc-4587-4092-9a51-da3a81099ae5\",\"border_color\":\"black\",\"frame\":\"2015\",\"frame_effects\":[\"legendary\"],\"security_stamp\":\"oval\",\"full_art\":false,\"textless\":false,\"booster\":true,\"story_spotlight\":false,\"edhrec_rank\":9613,\"preview\":{\"source\":\"Wizards of the Coast\",\"source_uri\":\"https://magic.wizards.com/en/articles/archive/card-preview/challenge-accepted-2021-05-26\",\"previewed_at\":\"2021-05-26\"},\"prices\":{\"usd\":\"0.17\",\"usd_foil\":\"2.02\",\"usd_etched\":null,\"eur\":\"0.30\",\"eur_foil\":\"0.92\",\"tix\":\"0.06\"},\"related_uris\":{\"gatherer\":\"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=522262&printed=false\",\"tcgplayer_infinite_articles\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Darticle%26game%3Dmagic%26partner%3Dscryfall%26q%3DAsmoranomardicadaistinaculdacar\",\"tcgplayer_infinite_decks\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Ddeck%26game%3Dmagic%26partner%3Dscryfall%26q%3DAsmoranomardicadaistinaculdacar\",\"edhrec\":\"https://edhrec.com/route/?cc=Asmoranomardicadaistinaculdacar\"},\"purchase_uris\":{\"tcgplayer\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&u=https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F239722%3Fpage%3D1\",\"cardmarket\":\"https://www.cardmarket.com/en/Magic/Products/Singles/Modern-Horizons-2/Asmoranomardicadaistinaculdacar?referrer=scryfall&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall\",\"cardhoarder\":\"https://www.cardhoarder.com/cards/90749?affiliate_id=scryfall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall\"}},{\"object\":\"card\",\"id\":\"c7e6915b-2077-45aa-93e7-29b5f14beb51\",\"oracle_id\":\"7b3b5be0-8bec-43c9-bd61-39fd92e0d705\",\"multiverse_ids\":[439473],\"tcgplayer_id\":153180,\"cardmarket_id\":313994,\"name\":\"Half-Orc, Half-\",\"lang\":\"en\",\"released_at\":\"2017-12-08\",\"uri\":\"https://api.scryfall.com/cards/c7e6915b-2077-45aa-93e7-29b5f14beb51\",\"scryfall_uri\":\"https://scryfall.com/card/ust/84/half-orc-half-?utm_source=api\",\"layout\":\"augment\",\"highres_image\":true,\"image_status\":\"highres_scan\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/front/c/7/c7e6915b-2077-45aa-93e7-29b5f14beb51.jpg?1572374034\",\"normal\":\"https://cards.scryfall.io/normal/front/c/7/c7e6915b-2077-45aa-93e7-29b5f14beb51.jpg?1572374034\",\"large\":\"https://cards.scryfall.io/large/front/c/7/c7e6915b-2077-45aa-93e7-29b5f14beb51.jpg?1572374034\",\"png\":\"https://cards.scryfall.io/png/front/c/7/c7e6915b-2077-45aa-93e7-29b5f14beb51.png?1572374034\",\"art_crop\":\"https://cards.scryfall.io/art_crop/front/c/7/c7e6915b-2077-45aa-93e7-29b5f14beb51.jpg?1572374034\",\"border_crop\":\"https://cards.scryfall.io/border_crop/front/c/7/c7e6915b-2077-45aa-93e7-29b5f14beb51.jpg?1572374034\"},\"mana_cost\":\"\",\"cmc\":0,\"type_line\":\"Creature — Orc Warrior\",\"oracle_text\":\"Trample\\nAt the beginning of each end step, if an opponent was dealt damage this turn,\\nAugment {1}{R}{R} ({1}{R}{R}, Reveal this card from your hand: Combine it with target host. Augment only as a sorcery.)\",\"power\":\"+3\",\"toughness\":\"+1\",\"colors\":[\"R\"],\"color_indicator\":[\"R\"],\"color_identity\":[\"R\"],\"keywords\":[\"Trample\",\"Augment\"],\"legalities\":{\"standard\":\"not_legal\",\"future\":\"not_legal\",\"historic\":\"not_legal\",\"timeless\":\"not_legal\",\"gladiator\":\"not_legal\",\"pioneer\":\"not_legal\",\"explorer\":\"not_legal\",\"modern\":\"not_legal\",\"legacy\":\"not_legal\",\"pauper\":\"not_legal\",\"vintage\":\"not_legal\",\"penny\":\"not_legal\",\"commander\":\"not_legal\",\"oathbreaker\":\"not_legal\",\"standardbrawl\":\"not_legal\",\"brawl\":\"not_legal\",\"alchemy\":\"not_legal\",\"paupercommander\":\"not_legal\",\"duel\":\"not_legal\",\"oldschool\":\"not_legal\",\"premodern\":\"not_legal\",\"predh\":\"not_legal\"},\"games\":[\"paper\"],\"reserved\":false,\"foil\":true,\"nonfoil\":true,\"finishes\":[\"nonfoil\",\"foil\"],\"oversized\":false,\"promo\":false,\"reprint\":false,\"variation\":false,\"set_id\":\"83491685-880d-41dd-a4af-47d2b3b17c10\",\"set\":\"ust\",\"set_name\":\"Unstable\",\"set_type\":\"funny\",\"set_uri\":\"https://api.scryfall.com/sets/83491685-880d-41dd-a4af-47d2b3b17c10\",\"set_search_uri\":\"https://api.scryfall.com/cards/search?order=set&q=e%3Aust&unique=prints\",\"scryfall_set_uri\":\"https://scryfall.com/sets/ust?utm_source=api\",\"rulings_uri\":\"https://api.scryfall.com/cards/c7e6915b-2077-45aa-93e7-29b5f14beb51/rulings\",\"prints_search_uri\":\"https://api.scryfall.com/cards/search?order=released&q=oracleid%3A7b3b5be0-8bec-43c9-bd61-39fd92e0d705&unique=prints\",\"collector_number\":\"84\",\"digital\":false,\"rarity\":\"uncommon\",\"card_back_id\":\"0aeebaf5-8c7d-4636-9e82-8c27447861f7\",\"artist\":\"Kev Walker\",\"artist_ids\":[\"f366a0ee-a0cd-466d-ba6a-90058c7a31a6\"],\"illustration_id\":\"ed8bb73e-fba9-4e7f-9888-217c8b635fd6\",\"border_color\":\"silver\",\"frame\":\"2015\",\"full_art\":false,\"textless\":false,\"booster\":true,\"story_spotlight\":false,\"prices\":{\"usd\":\"0.14\",\"usd_foil\":\"1.05\",\"usd_etched\":null,\"eur\":\"0.17\",\"eur_foil\":\"0.48\",\"tix\":null},\"related_uris\":{\"gatherer\":\"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=439473&printed=false\",\"tcgplayer_infinite_articles\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Darticle%26game%3Dmagic%26partner%3Dscryfall%26q%3DHalf-Orc%252C%2BHalf-\",\"tcgplayer_infinite_decks\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Ddeck%26game%3Dmagic%26partner%3Dscryfall%26q%3DHalf-Orc%252C%2BHalf-\",\"edhrec\":\"https://edhrec.com/route/?cc=Half-Orc%2C+Half-\"},\"purchase_uris\":{\"tcgplayer\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&u=https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F153180%3Fpage%3D1\",\"cardmarket\":\"https://www.cardmarket.com/en/Magic/Products/Singles/Unstable/HalfOrc-Half?referrer=scryfall&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall\",\"cardhoarder\":\"https://www.cardhoarder.com/cards?affiliate_id=scryfall&data%5Bsearch%5D=Half-Orc%2C+Half-&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall\"}},{\"object\":\"card\",\"id\":\"70668650-0fb1-4486-a4e6-ab9a12be5626\",\"oracle_id\":\"ac5487ba-6d6e-47ee-ae29-776e186789cc\",\"multiverse_ids\":[607069,607070],\"mtgo_id\":109910,\"arena_id\":84305,\"tcgplayer_id\":490599,\"cardmarket_id\":704014,\"name\":\"Captive Weird // Compleated Conjurer\",\"lang\":\"en\",\"released_at\":\"2023-04-21\",\"uri\":\"https://api.scryfall.com/cards/70668650-0fb1-4486-a4e6-ab9a12be5626\",\"scryfall_uri\":\"https://scryfall.com/card/mom/49/captive-weird-compleated-conjurer?utm_source=api\",\"layout\":\"transform\",\"highres_image\":true,\"image_status\":\"highres_scan\",\"cmc\":1,\"type_line\":\"Creature — Weird // Creature — Phyrexian Weird\",\"color_identity\":[\"R\",\"U\"],\"keywords\":[\"Transform\",\"Defender\"],\"card_faces\":[{\"object\":\"card_face\",\"name\":\"Captive Weird\",\"mana_cost\":\"{U}\",\"type_line\":\"Creature — Weird\",\"oracle_text\":\"Defender\\n{3}{R/P}: Transform Captive Weird. Activate only as a sorcery. ({R/P} can be paid with either {R} or 2 life.)\",\"colors\":[\"U\"],\"power\":\"1\",\"toughness\":\"3\",\"flavor_text\":\"Izzet researchers agreed to keep the unusual weird contained until they understood the extent of its powers.\",\"artist\":\"Manuel Castañón\",\"artist_id\":\"35f11eeb-36ff-4059-bb70-d1274f5bd858\",\"illustration_id\":\"a27c3bee-5715-4085-b029-616091edb1a5\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/front/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"normal\":\"https://cards.scryfall.io/normal/front/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"large\":\"https://cards.scryfall.io/large/front/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"png\":\"https://cards.scryfall.io/png/front/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.png?1682203019\",\"art_crop\":\"https://cards.scryfall.io/art_crop/front/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"border_crop\":\"https://cards.scryfall.io/border_crop/front/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\"}},{\"object\":\"card_face\",\"name\":\"Compleated Conjurer\",\"flavor_name\":\"\",\"mana_cost\":\"\",\"type_line\":\"Creature — Phyrexian Weird\",\"oracle_text\":\"When this creature transforms into Compleated Conjurer, exile the top card of your library. Until the end of your next turn, you may play that card.\",\"colors\":[\"R\",\"U\"],\"color_indicator\":[\"R\",\"U\"],\"power\":\"3\",\"toughness\":\"3\",\"flavor_text\":\"The Furnace Host saw no need for such caution.\",\"artist\":\"Manuel Castañón\",\"artist_id\":\"35f11eeb-36ff-4059-bb70-d1274f5bd858\",\"illustration_id\":\"c59d3827-cd81-41f6-b2ee-5236f25a763c\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/back/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"normal\":\"https://cards.scryfall.io/normal/back/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"large\":\"https://cards.scryfall.io/large/back/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"png\":\"https://cards.scryfall.io/png/back/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.png?1682203019\",\"art_crop\":\"https://cards.scryfall.io/art_crop/back/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\",\"border_crop\":\"https://cards.scryfall.io/border_crop/back/7/0/70668650-0fb1-4486-a4e6-ab9a12be5626.jpg?1682203019\"}}],\"legalities\":{\"standard\":\"legal\",\"future\":\"legal\",\"historic\":\"legal\",\"timeless\":\"legal\",\"gladiator\":\"legal\",\"pioneer\":\"legal\",\"explorer\":\"legal\",\"modern\":\"legal\",\"legacy\":\"legal\",\"pauper\":\"not_legal\",\"vintage\":\"legal\",\"penny\":\"not_legal\",\"commander\":\"legal\",\"oathbreaker\":\"legal\",\"standardbrawl\":\"legal\",\"brawl\":\"legal\",\"alchemy\":\"legal\",\"paupercommander\":\"restricted\",\"duel\":\"legal\",\"oldschool\":\"not_legal\",\"premodern\":\"not_legal\",\"predh\":\"not_legal\"},\"games\":[\"paper\",\"arena\",\"mtgo\"],\"reserved\":false,\"foil\":true,\"nonfoil\":true,\"finishes\":[\"nonfoil\",\"foil\"],\"oversized\":false,\"promo\":false,\"reprint\":false,\"variation\":false,\"set_id\":\"392f7315-dc53-40a3-a2cc-5482dbd498b3\",\"set\":\"mom\",\"set_name\":\"March of the Machine\",\"set_type\":\"expansion\",\"set_uri\":\"https://api.scryfall.com/sets/392f7315-dc53-40a3-a2cc-5482dbd498b3\",\"set_search_uri\":\"https://api.scryfall.com/cards/search?order=set&q=e%3Amom&unique=prints\",\"scryfall_set_uri\":\"https://scryfall.com/sets/mom?utm_source=api\",\"rulings_uri\":\"https://api.scryfall.com/cards/70668650-0fb1-4486-a4e6-ab9a12be5626/rulings\",\"prints_search_uri\":\"https://api.scryfall.com/cards/search?order=released&q=oracleid%3Aac5487ba-6d6e-47ee-ae29-776e186789cc&unique=prints\",\"collector_number\":\"49\",\"digital\":false,\"rarity\":\"uncommon\",\"artist\":\"Manuel Castañón\",\"artist_ids\":[\"35f11eeb-36ff-4059-bb70-d1274f5bd858\"],\"border_color\":\"black\",\"frame\":\"2015\",\"full_art\":false,\"textless\":false,\"booster\":true,\"story_spotlight\":false,\"edhrec_rank\":22212,\"penny_rank\":5248,\"preview\":{\"source\":\"Beartai\",\"source_uri\":\"https://www.beartai.com/tgs/news-game/1233272\",\"previewed_at\":\"2023-03-31\"},\"prices\":{\"usd\":\"0.03\",\"usd_foil\":\"0.07\",\"usd_etched\":null,\"eur\":\"0.06\",\"eur_foil\":\"0.11\",\"tix\":\"0.03\"},\"related_uris\":{\"gatherer\":\"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=607069&printed=false\",\"tcgplayer_infinite_articles\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Darticle%26game%3Dmagic%26partner%3Dscryfall%26q%3DCaptive%2BWeird%2B%252F%252F%2BCompleated%2BConjurer\",\"tcgplayer_infinite_decks\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Ddeck%26game%3Dmagic%26partner%3Dscryfall%26q%3DCaptive%2BWeird%2B%252F%252F%2BCompleated%2BConjurer\",\"edhrec\":\"https://edhrec.com/route/?cc=Captive+Weird\"},\"purchase_uris\":{\"tcgplayer\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&u=https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F490599%3Fpage%3D1\",\"cardmarket\":\"https://www.cardmarket.com/en/Magic/Products/Singles/March-of-the-Machine/Captive-Weird-Compleated-Conjurer?referrer=scryfall&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall\",\"cardhoarder\":\"https://www.cardhoarder.com/cards/109910?affiliate_id=scryfall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall\"}},{\"object\":\"card\",\"id\":\"4dfcc240-9010-4e0c-afda-7f70c42da7d2\",\"oracle_id\":\"16128b90-9b81-476e-8999-3ef498728c39\",\"multiverse_ids\":[382230],\"tcgplayer_id\":83162,\"cardmarket_id\":267219,\"name\":\"Cinder Wall\",\"lang\":\"en\",\"released_at\":\"2014-06-06\",\"uri\":\"https://api.scryfall.com/cards/4dfcc240-9010-4e0c-afda-7f70c42da7d2\",\"scryfall_uri\":\"https://scryfall.com/card/cns/140/cinder-wall?utm_source=api\",\"layout\":\"normal\",\"highres_image\":true,\"image_status\":\"highres_scan\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/front/4/d/4dfcc240-9010-4e0c-afda-7f70c42da7d2.jpg?1562865418\",\"normal\":\"https://cards.scryfall.io/normal/front/4/d/4dfcc240-9010-4e0c-afda-7f70c42da7d2.jpg?1562865418\",\"large\":\"https://cards.scryfall.io/large/front/4/d/4dfcc240-9010-4e0c-afda-7f70c42da7d2.jpg?1562865418\",\"png\":\"https://cards.scryfall.io/png/front/4/d/4dfcc240-9010-4e0c-afda-7f70c42da7d2.png?1562865418\",\"art_crop\":\"https://cards.scryfall.io/art_crop/front/4/d/4dfcc240-9010-4e0c-afda-7f70c42da7d2.jpg?1562865418\",\"border_crop\":\"https://cards.scryfall.io/border_crop/front/4/d/4dfcc240-9010-4e0c-afda-7f70c42da7d2.jpg?1562865418\"},\"mana_cost\":\"{R}\",\"cmc\":1,\"type_line\":\"Creature — Wall\",\"oracle_text\":\"Defender\\nWhen Cinder Wall blocks, destroy it at end of combat.\",\"power\":\"3\",\"toughness\":\"3\",\"colors\":[\"R\"],\"color_identity\":[\"R\"],\"keywords\":[\"Defender\"],\"legalities\":{\"standard\":\"not_legal\",\"future\":\"not_legal\",\"historic\":\"not_legal\",\"timeless\":\"not_legal\",\"gladiator\":\"not_legal\",\"pioneer\":\"not_legal\",\"explorer\":\"not_legal\",\"modern\":\"legal\",\"legacy\":\"legal\",\"pauper\":\"legal\",\"vintage\":\"legal\",\"penny\":\"not_legal\",\"commander\":\"legal\",\"oathbreaker\":\"legal\",\"standardbrawl\":\"not_legal\",\"brawl\":\"not_legal\",\"alchemy\":\"not_legal\",\"paupercommander\":\"legal\",\"duel\":\"legal\",\"oldschool\":\"not_legal\",\"premodern\":\"legal\",\"predh\":\"legal\"},\"games\":[\"paper\"],\"reserved\":false,\"foil\":true,\"nonfoil\":true,\"finishes\":[\"nonfoil\",\"foil\"],\"oversized\":false,\"promo\":false,\"reprint\":true,\"variation\":false,\"set_id\":\"7d4ebb59-a50b-45b8-8fff-ab70767819a5\",\"set\":\"cns\",\"set_name\":\"Conspiracy\",\"set_type\":\"draft_innovation\",\"set_uri\":\"https://api.scryfall.com/sets/7d4ebb59-a50b-45b8-8fff-ab70767819a5\",\"set_search_uri\":\"https://api.scryfall.com/cards/search?order=set&q=e%3Acns&unique=prints\",\"scryfall_set_uri\":\"https://scryfall.com/sets/cns?utm_source=api\",\"rulings_uri\":\"https://api.scryfall.com/cards/4dfcc240-9010-4e0c-afda-7f70c42da7d2/rulings\",\"prints_search_uri\":\"https://api.scryfall.com/cards/search?order=released&q=oracleid%3A16128b90-9b81-476e-8999-3ef498728c39&unique=prints\",\"collector_number\":\"140\",\"digital\":false,\"rarity\":\"common\",\"flavor_text\":\"\\\"The smell of roasted flesh hung over the valley for hours.\\\"\\n—Onean sergeant\",\"card_back_id\":\"0aeebaf5-8c7d-4636-9e82-8c27447861f7\",\"artist\":\"Anthony S. Waters\",\"artist_ids\":[\"f009de11-3c8d-4663-b996-ca0c3e997fad\"],\"illustration_id\":\"0fc0be46-7e05-49e8-9805-a522d5882e4d\",\"border_color\":\"black\",\"frame\":\"2003\",\"full_art\":false,\"textless\":false,\"booster\":true,\"story_spotlight\":false,\"edhrec_rank\":23839,\"penny_rank\":9861,\"prices\":{\"usd\":\"0.11\",\"usd_foil\":\"0.15\",\"usd_etched\":null,\"eur\":\"0.03\",\"eur_foil\":\"0.17\",\"tix\":null},\"related_uris\":{\"gatherer\":\"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=382230&printed=false\",\"tcgplayer_infinite_articles\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Darticle%26game%3Dmagic%26partner%3Dscryfall%26q%3DCinder%2BWall\",\"tcgplayer_infinite_decks\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Ddeck%26game%3Dmagic%26partner%3Dscryfall%26q%3DCinder%2BWall\",\"edhrec\":\"https://edhrec.com/route/?cc=Cinder+Wall\"},\"purchase_uris\":{\"tcgplayer\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&u=https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F83162%3Fpage%3D1\",\"cardmarket\":\"https://www.cardmarket.com/en/Magic/Products/Singles/Conspiracy/Cinder-Wall?referrer=scryfall&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall\",\"cardhoarder\":\"https://www.cardhoarder.com/cards?affiliate_id=scryfall&data%5Bsearch%5D=Cinder+Wall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall\"}},{\"object\":\"card\",\"id\":\"028aeebc-4073-4595-94da-02f9f96ea148\",\"oracle_id\":\"ba57df46-11c9-4f28-8818-175fb52e67bc\",\"multiverse_ids\":[222111,222115],\"mtgo_id\":42380,\"mtgo_foil_id\":42381,\"tcgplayer_id\":55985,\"cardmarket_id\":250661,\"name\":\"Reckless Waif // Merciless Predator\",\"lang\":\"en\",\"released_at\":\"2011-09-30\",\"uri\":\"https://api.scryfall.com/cards/028aeebc-4073-4595-94da-02f9f96ea148\",\"scryfall_uri\":\"https://scryfall.com/card/isd/159/reckless-waif-merciless-predator?utm_source=api\",\"layout\":\"transform\",\"highres_image\":true,\"image_status\":\"highres_scan\",\"cmc\":1,\"type_line\":\"Creature — Human Rogue Werewolf // Creature — Werewolf\",\"color_identity\":[\"R\"],\"keywords\":[\"Transform\"],\"card_faces\":[{\"object\":\"card_face\",\"name\":\"Reckless Waif\",\"mana_cost\":\"{R}\",\"type_line\":\"Creature — Human Rogue Werewolf\",\"oracle_text\":\"At the beginning of each upkeep, if no spells were cast last turn, transform Reckless Waif.\",\"colors\":[\"R\"],\"power\":\"1\",\"toughness\":\"1\",\"flavor_text\":\"\\\"Yes, I'm alone. No, I'm not worried.\\\"\",\"artist\":\"Michael C. Hayes\",\"artist_id\":\"d119119f-9ee1-4cf1-a01f-e90b6a042155\",\"illustration_id\":\"dfe66e52-78c8-4e58-8c72-ae54caf101f9\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/front/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"normal\":\"https://cards.scryfall.io/normal/front/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"large\":\"https://cards.scryfall.io/large/front/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"png\":\"https://cards.scryfall.io/png/front/0/2/028aeebc-4073-4595-94da-02f9f96ea148.png?1562825445\",\"art_crop\":\"https://cards.scryfall.io/art_crop/front/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"border_crop\":\"https://cards.scryfall.io/border_crop/front/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\"}},{\"object\":\"card_face\",\"name\":\"Merciless Predator\",\"flavor_name\":\"\",\"mana_cost\":\"\",\"type_line\":\"Creature — Werewolf\",\"oracle_text\":\"At the beginning of each upkeep, if a player cast two or more spells last turn, transform Merciless Predator.\",\"colors\":[\"R\"],\"color_indicator\":[\"R\"],\"power\":\"3\",\"toughness\":\"2\",\"flavor_text\":\"Before she just wanted to snatch your purse; now she'll take the whole arm.\",\"artist\":\"Michael C. Hayes\",\"artist_id\":\"d119119f-9ee1-4cf1-a01f-e90b6a042155\",\"illustration_id\":\"9b8cdb6b-f19e-4d54-aa7e-c324b9ffdaa7\",\"image_uris\":{\"small\":\"https://cards.scryfall.io/small/back/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"normal\":\"https://cards.scryfall.io/normal/back/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"large\":\"https://cards.scryfall.io/large/back/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"png\":\"https://cards.scryfall.io/png/back/0/2/028aeebc-4073-4595-94da-02f9f96ea148.png?1562825445\",\"art_crop\":\"https://cards.scryfall.io/art_crop/back/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\",\"border_crop\":\"https://cards.scryfall.io/border_crop/back/0/2/028aeebc-4073-4595-94da-02f9f96ea148.jpg?1562825445\"}}],\"all_parts\":[{\"object\":\"related_card\",\"id\":\"99ce1bee-8f95-4284-8e06-9de9bfcb53b5\",\"component\":\"combo_piece\",\"name\":\"Innistrad Checklist\",\"type_line\":\"Card\",\"uri\":\"https://api.scryfall.com/cards/99ce1bee-8f95-4284-8e06-9de9bfcb53b5\"},{\"object\":\"related_card\",\"id\":\"028aeebc-4073-4595-94da-02f9f96ea148\",\"component\":\"combo_piece\",\"name\":\"Reckless Waif // Merciless Predator\",\"type_line\":\"Creature — Human Rogue Werewolf // Creature — Werewolf\",\"uri\":\"https://api.scryfall.com/cards/028aeebc-4073-4595-94da-02f9f96ea148\"}],\"legalities\":{\"standard\":\"not_legal\",\"future\":\"not_legal\",\"historic\":\"not_legal\",\"timeless\":\"not_legal\",\"gladiator\":\"not_legal\",\"pioneer\":\"not_legal\",\"explorer\":\"not_legal\",\"modern\":\"legal\",\"legacy\":\"legal\",\"pauper\":\"not_legal\",\"vintage\":\"legal\",\"penny\":\"legal\",\"commander\":\"legal\",\"oathbreaker\":\"legal\",\"standardbrawl\":\"not_legal\",\"brawl\":\"not_legal\",\"alchemy\":\"not_legal\",\"paupercommander\":\"restricted\",\"duel\":\"legal\",\"oldschool\":\"not_legal\",\"premodern\":\"not_legal\",\"predh\":\"not_legal\"},\"games\":[\"paper\",\"mtgo\"],\"reserved\":false,\"foil\":true,\"nonfoil\":true,\"finishes\":[\"nonfoil\",\"foil\"],\"oversized\":false,\"promo\":false,\"reprint\":false,\"variation\":false,\"set_id\":\"d1026945-2969-42b9-be53-f941405a58cb\",\"set\":\"isd\",\"set_name\":\"Innistrad\",\"set_type\":\"expansion\",\"set_uri\":\"https://api.scryfall.com/sets/d1026945-2969-42b9-be53-f941405a58cb\",\"set_search_uri\":\"https://api.scryfall.com/cards/search?order=set&q=e%3Aisd&unique=prints\",\"scryfall_set_uri\":\"https://scryfall.com/sets/isd?utm_source=api\",\"rulings_uri\":\"https://api.scryfall.com/cards/028aeebc-4073-4595-94da-02f9f96ea148/rulings\",\"prints_search_uri\":\"https://api.scryfall.com/cards/search?order=released&q=oracleid%3Aba57df46-11c9-4f28-8818-175fb52e67bc&unique=prints\",\"collector_number\":\"159\",\"digital\":false,\"rarity\":\"uncommon\",\"artist\":\"Michael C. Hayes\",\"artist_ids\":[\"d119119f-9ee1-4cf1-a01f-e90b6a042155\"],\"border_color\":\"black\",\"frame\":\"2003\",\"frame_effects\":[\"sunmoondfc\"],\"full_art\":false,\"textless\":false,\"booster\":true,\"story_spotlight\":false,\"edhrec_rank\":13049,\"penny_rank\":4274,\"prices\":{\"usd\":\"0.20\",\"usd_foil\":\"1.94\",\"usd_etched\":null,\"eur\":\"0.19\",\"eur_foil\":\"0.60\",\"tix\":\"0.03\"},\"related_uris\":{\"gatherer\":\"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=222111&printed=false\",\"tcgplayer_infinite_articles\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Darticle%26game%3Dmagic%26partner%3Dscryfall%26q%3DReckless%2BWaif%2B%252F%252F%2BMerciless%2BPredator\",\"tcgplayer_infinite_decks\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Ddeck%26game%3Dmagic%26partner%3Dscryfall%26q%3DReckless%2BWaif%2B%252F%252F%2BMerciless%2BPredator\",\"edhrec\":\"https://edhrec.com/route/?cc=Reckless+Waif\"},\"purchase_uris\":{\"tcgplayer\":\"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&u=https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F55985%3Fpage%3D1\",\"cardmarket\":\"https://www.cardmarket.com/en/Magic/Products/Singles/Innistrad/Reckless-Waif-Merciless-Predator?referrer=scryfall&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall\",\"cardhoarder\":\"https://www.cardhoarder.com/cards/42380?affiliate_id=scryfall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall\"}}]}"
        val jsonObject = json.parseToJsonElement(originalBody).jsonObject
        return jsonObject["data"]?.jsonArray.toString()
    }
}